@page "/category/delete/{Id:long}"
@model RazorCore.Pages.CategoryP.DeleteCartModel
@{

}
<form method="post" class="p-3 mt-4">
    <div class="row pb-3">
        <h2 class="text-alert-primary p-lg-3">Delete a Category</h2>
        <hr />
    </div>
    <div asp-validation-summary="All"></div>
    <div class="mb-3">
        <label asp-for="category.Name"></label>
        
        <input type="text" asp-for="category.Name" class="form-control" readonly />
    </div>
    <div class="mb-3">
    <label>Total Products</label>
    @if (Model.category != null)
    {
        <label class="form-control">@Model.category.Products.Count()</label>
    }
    else
    {
        <label class="form-control">0</label>
    }
</div>
    <div class="mb-3">

        <button type="submit" class="btn btn-danger @(Model.category.Products.Count() != 0 ? "disabled" : "")" ><i class="bi bi-trash3"></i> Delete Product</button>
         <a asp-page="Index" class="btn btn-primary">Back to Products</a>
    </div>

</form>
@if(Model.category.Products.Count() > 0)
{
    @section FooterInfo{
    <div class="bg-danger text-white p-2">Cannot delete category @Model.category.Name because it has associated products.</div>
}
}
